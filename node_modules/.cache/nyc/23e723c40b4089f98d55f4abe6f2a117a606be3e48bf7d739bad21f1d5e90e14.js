"use strict";var cov_2jalh6hbhq=function(){var path="D:\\Property-Pro-Lite1\\server\\controllers\\usersController.js";var hash="2ec49d5c385fd61a0f04044e8e98c38d536cb3ac";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Property-Pro-Lite1\\server\\controllers\\usersController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:14},end:{line:8,column:55}},"3":{start:{line:10,column:16},end:{line:10,column:69}},"4":{start:{line:12,column:19},end:{line:12,column:76}},"5":{start:{line:14,column:12},end:{line:14,column:62}},"6":{start:{line:16,column:19},end:{line:16,column:76}},"7":{start:{line:18,column:39},end:{line:18,column:95}},"8":{start:{line:20,column:77},end:{line:20,column:175}},"9":{start:{line:20,column:94},end:{line:20,column:107}},"10":{start:{line:20,column:121},end:{line:20,column:131}},"11":{start:{line:20,column:151},end:{line:20,column:165}},"12":{start:{line:20,column:166},end:{line:20,column:173}},"13":{start:{line:20,column:176},end:{line:20,column:263}},"14":{start:{line:20,column:193},end:{line:20,column:208}},"15":{start:{line:20,column:218},end:{line:20,column:261}},"16":{start:{line:22,column:33},end:{line:22,column:387}},"17":{start:{line:22,column:65},end:{line:22,column:69}},"18":{start:{line:22,column:78},end:{line:22,column:87}},"19":{start:{line:22,column:89},end:{line:22,column:384}},"20":{start:{line:22,column:147},end:{line:22,column:167}},"21":{start:{line:22,column:193},end:{line:22,column:264}},"22":{start:{line:22,column:290},end:{line:22,column:360}},"23":{start:{line:22,column:363},end:{line:22,column:380}},"24":{start:{line:24,column:12},end:{line:24,column:38}},"25":{start:{line:25,column:16},end:{line:25,column:42}},"26":{start:{line:26,column:16},end:{line:26,column:49}},"27":{start:{line:27,column:17},end:{line:27,column:51}},"28":{start:{line:28,column:17},end:{line:28,column:51}},"29":{start:{line:30,column:24},end:{line:34,column:1}},"30":{start:{line:31,column:2},end:{line:33,column:5}},"31":{start:{line:32,column:4},end:{line:32,column:30}},"32":{start:{line:46,column:0},end:{line:98,column:3}},"33":{start:{line:47,column:13},end:{line:93,column:5}},"34":{start:{line:52,column:4},end:{line:92,column:33}},"35":{start:{line:53,column:6},end:{line:91,column:7}},"36":{start:{line:54,column:8},end:{line:90,column:9}},"37":{start:{line:56,column:12},end:{line:56,column:223}},"38":{start:{line:57,column:12},end:{line:57,column:41}},"39":{start:{line:58,column:12},end:{line:58,column:33}},"40":{start:{line:59,column:12},end:{line:59,column:44}},"41":{start:{line:60,column:12},end:{line:60,column:34}},"42":{start:{line:61,column:12},end:{line:61,column:30}},"43":{start:{line:62,column:12},end:{line:62,column:30}},"44":{start:{line:63,column:12},end:{line:63,column:50}},"45":{start:{line:66,column:12},end:{line:66,column:33}},"46":{start:{line:67,column:12},end:{line:67,column:31}},"47":{start:{line:68,column:12},end:{line:68,column:59}},"48":{start:{line:71,column:12},end:{line:71,column:37}},"49":{start:{line:72,column:12},end:{line:72,column:31}},"50":{start:{line:73,column:12},end:{line:73,column:120}},"51":{start:{line:76,column:12},end:{line:76,column:36}},"52":{start:{line:77,column:12},end:{line:77,column:95}},"53":{start:{line:80,column:12},end:{line:80,column:31}},"54":{start:{line:81,column:12},end:{line:81,column:47}},"55":{start:{line:82,column:12},end:{line:85,column:16}},"56":{start:{line:89,column:12},end:{line:89,column:35}},"57":{start:{line:95,column:2},end:{line:97,column:4}},"58":{start:{line:96,column:4},end:{line:96,column:39}},"59":{start:{line:110,column:0},end:{line:165,column:3}},"60":{start:{line:111,column:14},end:{line:160,column:5}},"61":{start:{line:115,column:4},end:{line:159,column:35}},"62":{start:{line:116,column:6},end:{line:158,column:7}},"63":{start:{line:117,column:8},end:{line:157,column:9}},"64":{start:{line:119,column:12},end:{line:119,column:35}},"65":{start:{line:120,column:12},end:{line:120,column:41}},"66":{start:{line:121,column:12},end:{line:121,column:33}},"67":{start:{line:122,column:12},end:{line:122,column:44}},"68":{start:{line:124,column:12},end:{line:127,column:13}},"69":{start:{line:125,column:14},end:{line:125,column:33}},"70":{start:{line:126,column:14},end:{line:126,column:20}},"71":{start:{line:129,column:12},end:{line:129,column:62}},"72":{start:{line:132,column:12},end:{line:132,column:31}},"73":{start:{line:133,column:12},end:{line:133,column:71}},"74":{start:{line:136,column:12},end:{line:136,column:37}},"75":{start:{line:138,column:12},end:{line:141,column:13}},"76":{start:{line:139,column:14},end:{line:139,column:34}},"77":{start:{line:140,column:14},end:{line:140,column:20}},"78":{start:{line:143,column:12},end:{line:143,column:62}},"79":{start:{line:146,column:12},end:{line:146,column:32}},"80":{start:{line:147,column:12},end:{line:147,column:73}},"81":{start:{line:150,column:12},end:{line:150,column:32}},"82":{start:{line:151,column:12},end:{line:151,column:50}},"83":{start:{line:152,column:12},end:{line:152,column:38}},"84":{start:{line:156,column:12},end:{line:156,column:36}},"85":{start:{line:162,column:2},end:{line:164,column:4}},"86":{start:{line:163,column:4},end:{line:163,column:40}},"87":{start:{line:167,column:15},end:{line:170,column:1}},"88":{start:{line:171,column:0},end:{line:171,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:37},end:{line:18,column:97}},line:18},"1":{name:"asyncGeneratorStep",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:75},end:{line:20,column:265}},line:20},"2":{name:"_asyncToGenerator",decl:{start:{line:22,column:9},end:{line:22,column:26}},loc:{start:{line:22,column:31},end:{line:22,column:389}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:22,column:40},end:{line:22,column:41}},loc:{start:{line:22,column:52},end:{line:22,column:386}},line:22},"4":{name:"(anonymous_4)",decl:{start:{line:22,column:108},end:{line:22,column:109}},loc:{start:{line:22,column:135},end:{line:22,column:382}},line:22},"5":{name:"_next",decl:{start:{line:22,column:178},end:{line:22,column:183}},loc:{start:{line:22,column:191},end:{line:22,column:266}},line:22},"6":{name:"_throw",decl:{start:{line:22,column:276},end:{line:22,column:282}},loc:{start:{line:22,column:288},end:{line:22,column:362}},line:22},"7":{name:"checkIfUserExists",decl:{start:{line:30,column:33},end:{line:30,column:50}},loc:{start:{line:30,column:56},end:{line:34,column:1}},line:30},"8":{name:"(anonymous_8)",decl:{start:{line:31,column:20},end:{line:31,column:21}},loc:{start:{line:31,column:36},end:{line:33,column:3}},line:31},"9":{name:"(anonymous_9)",decl:{start:{line:46,column:0},end:{line:46,column:1}},loc:{start:{line:46,column:12},end:{line:98,column:1}},line:46},"10":{name:"_callee",decl:{start:{line:49,column:35},end:{line:49,column:42}},loc:{start:{line:49,column:53},end:{line:93,column:3}},line:49},"11":{name:"_callee$",decl:{start:{line:52,column:44},end:{line:52,column:52}},loc:{start:{line:52,column:63},end:{line:92,column:5}},line:52},"12":{name:"userSignUp",decl:{start:{line:95,column:18},end:{line:95,column:28}},loc:{start:{line:95,column:38},end:{line:97,column:3}},line:95},"13":{name:"(anonymous_13)",decl:{start:{line:110,column:0},end:{line:110,column:1}},loc:{start:{line:110,column:12},end:{line:165,column:1}},line:110},"14":{name:"_callee2",decl:{start:{line:113,column:35},end:{line:113,column:43}},loc:{start:{line:113,column:54},end:{line:160,column:3}},line:113},"15":{name:"_callee2$",decl:{start:{line:115,column:44},end:{line:115,column:53}},loc:{start:{line:115,column:65},end:{line:159,column:5}},line:115},"16":{name:"userSignIn",decl:{start:{line:162,column:18},end:{line:162,column:28}},loc:{start:{line:162,column:39},end:{line:164,column:3}},line:162}},branchMap:{"0":{loc:{start:{line:18,column:46},end:{line:18,column:94}},type:"cond-expr",locations:[{start:{line:18,column:70},end:{line:18,column:73}},{start:{line:18,column:76},end:{line:18,column:94}}],line:18},"1":{loc:{start:{line:18,column:46},end:{line:18,column:67}},type:"binary-expr",locations:[{start:{line:18,column:46},end:{line:18,column:49}},{start:{line:18,column:53},end:{line:18,column:67}}],line:18},"2":{loc:{start:{line:20,column:176},end:{line:20,column:263}},type:"if",locations:[{start:{line:20,column:176},end:{line:20,column:263}},{start:{line:20,column:176},end:{line:20,column:263}}],line:20},"3":{loc:{start:{line:54,column:8},end:{line:90,column:9}},type:"switch",locations:[{start:{line:55,column:10},end:{line:63,column:50}},{start:{line:65,column:10},end:{line:68,column:59}},{start:{line:70,column:10},end:{line:73,column:120}},{start:{line:75,column:10},end:{line:77,column:95}},{start:{line:79,column:10},end:{line:85,column:16}},{start:{line:87,column:10},end:{line:87,column:18}},{start:{line:88,column:10},end:{line:89,column:35}}],line:54},"4":{loc:{start:{line:117,column:8},end:{line:157,column:9}},type:"switch",locations:[{start:{line:118,column:10},end:{line:129,column:62}},{start:{line:131,column:10},end:{line:133,column:71}},{start:{line:135,column:10},end:{line:143,column:62}},{start:{line:145,column:10},end:{line:147,column:73}},{start:{line:149,column:10},end:{line:152,column:38}},{start:{line:154,column:10},end:{line:154,column:18}},{start:{line:155,column:10},end:{line:156,column:36}}],line:117},"5":{loc:{start:{line:124,column:12},end:{line:127,column:13}},type:"if",locations:[{start:{line:124,column:12},end:{line:127,column:13}},{start:{line:124,column:12},end:{line:127,column:13}}],line:124},"6":{loc:{start:{line:138,column:12},end:{line:141,column:13}},type:"if",locations:[{start:{line:138,column:12},end:{line:141,column:13}},{start:{line:138,column:12},end:{line:141,column:13}}],line:138}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0,0,0,0,0],"4":[0,0,0,0,0,0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"2ec49d5c385fd61a0f04044e8e98c38d536cb3ac"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_2jalh6hbhq.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2jalh6hbhq.s[1]++;exports["default"]=void 0;var _bcrypt=(cov_2jalh6hbhq.s[2]++,_interopRequireDefault(require("bcrypt")));var _database=(cov_2jalh6hbhq.s[3]++,_interopRequireDefault(require("../models/database")));var _usersHelper=(cov_2jalh6hbhq.s[4]++,_interopRequireDefault(require("../helpers/usersHelper")));var _auth=(cov_2jalh6hbhq.s[5]++,_interopRequireDefault(require("../helpers/auth")));var _errorHelper=(cov_2jalh6hbhq.s[6]++,_interopRequireDefault(require("../helpers/errorHelper")));function _interopRequireDefault(obj){cov_2jalh6hbhq.f[0]++;cov_2jalh6hbhq.s[7]++;return(cov_2jalh6hbhq.b[1][0]++,obj)&&(cov_2jalh6hbhq.b[1][1]++,obj.__esModule)?(cov_2jalh6hbhq.b[0][0]++,obj):(cov_2jalh6hbhq.b[0][1]++,{"default":obj});}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){cov_2jalh6hbhq.f[1]++;cov_2jalh6hbhq.s[8]++;try{var info=(cov_2jalh6hbhq.s[9]++,gen[key](arg));var value=(cov_2jalh6hbhq.s[10]++,info.value);}catch(error){cov_2jalh6hbhq.s[11]++;reject(error);cov_2jalh6hbhq.s[12]++;return;}cov_2jalh6hbhq.s[13]++;if(info.done){cov_2jalh6hbhq.b[2][0]++;cov_2jalh6hbhq.s[14]++;resolve(value);}else{cov_2jalh6hbhq.b[2][1]++;cov_2jalh6hbhq.s[15]++;Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){cov_2jalh6hbhq.f[2]++;cov_2jalh6hbhq.s[16]++;return function(){cov_2jalh6hbhq.f[3]++;var self=(cov_2jalh6hbhq.s[17]++,this),args=(cov_2jalh6hbhq.s[18]++,arguments);cov_2jalh6hbhq.s[19]++;return new Promise(function(resolve,reject){cov_2jalh6hbhq.f[4]++;var gen=(cov_2jalh6hbhq.s[20]++,fn.apply(self,args));function _next(value){cov_2jalh6hbhq.f[5]++;cov_2jalh6hbhq.s[21]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){cov_2jalh6hbhq.f[6]++;cov_2jalh6hbhq.s[22]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}cov_2jalh6hbhq.s[23]++;_next(undefined);});};}var users=(cov_2jalh6hbhq.s[24]++,_database["default"].users);var payloader=(cov_2jalh6hbhq.s[25]++,_auth["default"].payloader);var authError=(cov_2jalh6hbhq.s[26]++,_errorHelper["default"].authError),inputError=(cov_2jalh6hbhq.s[27]++,_errorHelper["default"].inputError),userExists=(cov_2jalh6hbhq.s[28]++,_errorHelper["default"].userExists);cov_2jalh6hbhq.s[29]++;var checkIfUserExists=function checkIfUserExists(req){cov_2jalh6hbhq.f[7]++;cov_2jalh6hbhq.s[30]++;return users.find(function(user){cov_2jalh6hbhq.f[8]++;cov_2jalh6hbhq.s[31]++;return user.email===req;});};/**
 * Sign up a new User account.
 * @param {object} req the request object.
 * @param {object} res the response object.
 * @return  {Function} next calls the next middleware
 *
*/var userSignUp=(/*#__PURE__*/cov_2jalh6hbhq.s[32]++,function(){cov_2jalh6hbhq.f[9]++;var _ref=(cov_2jalh6hbhq.s[33]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(req,res){cov_2jalh6hbhq.f[10]++;var _req$body,email,first_name,last_name,phoneNumber,address,is_admin,password,data,salt,newUser;cov_2jalh6hbhq.s[34]++;return regeneratorRuntime.wrap(function _callee$(_context){cov_2jalh6hbhq.f[11]++;cov_2jalh6hbhq.s[35]++;while(1){cov_2jalh6hbhq.s[36]++;switch(_context.prev=_context.next){case 0:cov_2jalh6hbhq.b[3][0]++;cov_2jalh6hbhq.s[37]++;_req$body=req.body,email=_req$body.email,first_name=_req$body.first_name,last_name=_req$body.last_name,phoneNumber=_req$body.phoneNumber,address=_req$body.address,is_admin=_req$body.is_admin;cov_2jalh6hbhq.s[38]++;password=req.body.password;cov_2jalh6hbhq.s[39]++;inputError(req,res);cov_2jalh6hbhq.s[40]++;data=checkIfUserExists(email);cov_2jalh6hbhq.s[41]++;userExists(data,res);cov_2jalh6hbhq.s[42]++;_context.prev=5;cov_2jalh6hbhq.s[43]++;_context.next=8;cov_2jalh6hbhq.s[44]++;return _bcrypt["default"].genSalt(10);case 8:cov_2jalh6hbhq.b[3][1]++;cov_2jalh6hbhq.s[45]++;salt=_context.sent;cov_2jalh6hbhq.s[46]++;_context.next=11;cov_2jalh6hbhq.s[47]++;return _bcrypt["default"].hash(password,salt);case 11:cov_2jalh6hbhq.b[3][2]++;cov_2jalh6hbhq.s[48]++;password=_context.sent;cov_2jalh6hbhq.s[49]++;_context.next=14;cov_2jalh6hbhq.s[50]++;return(0,_usersHelper["default"])(email,first_name,last_name,password,phoneNumber,address,is_admin);case 14:cov_2jalh6hbhq.b[3][3]++;cov_2jalh6hbhq.s[51]++;newUser=_context.sent;cov_2jalh6hbhq.s[52]++;return _context.abrupt("return",payloader(res,newUser[newUser.length-1],201));case 18:cov_2jalh6hbhq.b[3][4]++;cov_2jalh6hbhq.s[53]++;_context.prev=18;cov_2jalh6hbhq.s[54]++;_context.t0=_context["catch"](5);cov_2jalh6hbhq.s[55]++;return _context.abrupt("return",res.status(500).send({status:500,error:_context.t0}));case 21:cov_2jalh6hbhq.b[3][5]++;case"end":cov_2jalh6hbhq.b[3][6]++;cov_2jalh6hbhq.s[56]++;return _context.stop();}}},_callee,null,[[5,18]]);})));cov_2jalh6hbhq.s[57]++;return function userSignUp(_x,_x2){cov_2jalh6hbhq.f[12]++;cov_2jalh6hbhq.s[58]++;return _ref.apply(this,arguments);};}());/**
 * Login an existing User account.
 * @param {object} req the request object.
 * @param {object} res the response object.
 * @return  {Function} next calls the next middleware
 *
*/var userSignIn=(/*#__PURE__*/cov_2jalh6hbhq.s[59]++,function(){cov_2jalh6hbhq.f[13]++;var _ref2=(cov_2jalh6hbhq.s[60]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(req,res){cov_2jalh6hbhq.f[14]++;var email,password,data,isMatch;cov_2jalh6hbhq.s[61]++;return regeneratorRuntime.wrap(function _callee2$(_context2){cov_2jalh6hbhq.f[15]++;cov_2jalh6hbhq.s[62]++;while(1){cov_2jalh6hbhq.s[63]++;switch(_context2.prev=_context2.next){case 0:cov_2jalh6hbhq.b[4][0]++;cov_2jalh6hbhq.s[64]++;email=req.body.email;cov_2jalh6hbhq.s[65]++;password=req.body.password;cov_2jalh6hbhq.s[66]++;inputError(req,res);cov_2jalh6hbhq.s[67]++;data=checkIfUserExists(email);cov_2jalh6hbhq.s[68]++;if(!(data===undefined)){cov_2jalh6hbhq.b[5][0]++;cov_2jalh6hbhq.s[69]++;_context2.next=6;cov_2jalh6hbhq.s[70]++;break;}else{cov_2jalh6hbhq.b[5][1]++;}cov_2jalh6hbhq.s[71]++;return _context2.abrupt("return",authError(res));case 6:cov_2jalh6hbhq.b[4][1]++;cov_2jalh6hbhq.s[72]++;_context2.next=8;cov_2jalh6hbhq.s[73]++;return _bcrypt["default"].compare(password,data.password);case 8:cov_2jalh6hbhq.b[4][2]++;cov_2jalh6hbhq.s[74]++;isMatch=_context2.sent;cov_2jalh6hbhq.s[75]++;if(isMatch){cov_2jalh6hbhq.b[6][0]++;cov_2jalh6hbhq.s[76]++;_context2.next=11;cov_2jalh6hbhq.s[77]++;break;}else{cov_2jalh6hbhq.b[6][1]++;}cov_2jalh6hbhq.s[78]++;return _context2.abrupt("return",authError(res));case 11:cov_2jalh6hbhq.b[4][3]++;cov_2jalh6hbhq.s[79]++;_context2.prev=11;cov_2jalh6hbhq.s[80]++;return _context2.abrupt("return",payloader(res,data,200));case 15:cov_2jalh6hbhq.b[4][4]++;cov_2jalh6hbhq.s[81]++;_context2.prev=15;cov_2jalh6hbhq.s[82]++;_context2.t0=_context2["catch"](11);cov_2jalh6hbhq.s[83]++;console.log(_context2.t0);case 18:cov_2jalh6hbhq.b[4][5]++;case"end":cov_2jalh6hbhq.b[4][6]++;cov_2jalh6hbhq.s[84]++;return _context2.stop();}}},_callee2,null,[[11,15]]);})));cov_2jalh6hbhq.s[85]++;return function userSignIn(_x3,_x4){cov_2jalh6hbhq.f[16]++;cov_2jalh6hbhq.s[86]++;return _ref2.apply(this,arguments);};}());var _default=(cov_2jalh6hbhq.s[87]++,{userSignUp:userSignUp,userSignIn:userSignIn});cov_2jalh6hbhq.s[88]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJ1c2VycyIsImRhdGFiYXNlIiwicGF5bG9hZGVyIiwicGF5bG9hZCIsImF1dGhFcnJvciIsImVycm9ySGVscGVycyIsImlucHV0RXJyb3IiLCJ1c2VyRXhpc3RzIiwiY2hlY2tJZlVzZXJFeGlzdHMiLCJyZXEiLCJmaW5kIiwidXNlciIsImVtYWlsIiwidXNlclNpZ25VcCIsInJlcyIsImJvZHkiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwicGhvbmVOdW1iZXIiLCJhZGRyZXNzIiwiaXNfYWRtaW4iLCJwYXNzd29yZCIsImRhdGEiLCJiY3J5cHQiLCJnZW5TYWx0Iiwic2FsdCIsImhhc2giLCJuZXdVc2VyIiwibGVuZ3RoIiwic3RhdHVzIiwic2VuZCIsImVycm9yIiwidXNlclNpZ25JbiIsInVuZGVmaW5lZCIsImNvbXBhcmUiLCJpc01hdGNoIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztJQUVRQSxLLEdBQVVDLG9CLENBQVZELEs7SUFDQUUsUyxHQUFjQyxnQixDQUFkRCxTO0lBQ0FFLFMsR0FBc0NDLHVCLENBQXRDRCxTO0lBQVdFLFUsR0FBMkJELHVCLENBQTNCQyxVO0lBQVlDLFUsR0FBZUYsdUIsQ0FBZkUsVTs7QUFFL0IsSUFBTUMsaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFvQixDQUFBQyxHQUFHO0FBQUEsU0FBSVQsS0FBSyxDQUFDVSxJQUFOLENBQVcsVUFBQUMsSUFBSTtBQUFBLFdBQUlBLElBQUksQ0FBQ0MsS0FBTCxLQUFlSCxHQUFuQjtBQUFBLEdBQWYsQ0FBSjtBQUFBLENBQTdCO0FBRUE7Ozs7Ozs7OztBQVFBLElBQU1JLFVBQVU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDBCQUFHLGlCQUFPSixHQUFQLEVBQVlLLEdBQVo7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHdCQUdi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bGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi9tb2RlbHMvZGF0YWJhc2UnO1xyXG5pbXBvcnQgc2F2ZU5ld1VzZXIgZnJvbSAnLi4vaGVscGVycy91c2Vyc0hlbHBlcic7XHJcbmltcG9ydCBwYXlsb2FkIGZyb20gJy4uL2hlbHBlcnMvYXV0aCc7XHJcbmltcG9ydCBlcnJvckhlbHBlcnMgZnJvbSAnLi4vaGVscGVycy9lcnJvckhlbHBlcic7XHJcblxyXG5jb25zdCB7IHVzZXJzIH0gPSBkYXRhYmFzZTtcclxuY29uc3QgeyBwYXlsb2FkZXIgfSA9IHBheWxvYWQ7XHJcbmNvbnN0IHsgYXV0aEVycm9yLCBpbnB1dEVycm9yLCB1c2VyRXhpc3RzIH0gPSBlcnJvckhlbHBlcnM7XHJcblxyXG5jb25zdCBjaGVja0lmVXNlckV4aXN0cyA9IHJlcSA9PiB1c2Vycy5maW5kKHVzZXIgPT4gdXNlci5lbWFpbCA9PT0gcmVxKTtcclxuXHJcbi8qKlxyXG4gKiBTaWduIHVwIGEgbmV3IFVzZXIgYWNjb3VudC5cclxuICogQHBhcmFtIHtvYmplY3R9IHJlcSB0aGUgcmVxdWVzdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXMgdGhlIHJlc3BvbnNlIG9iamVjdC5cclxuICogQHJldHVybiAge0Z1bmN0aW9ufSBuZXh0IGNhbGxzIHRoZSBuZXh0IG1pZGRsZXdhcmVcclxuICpcclxuKi9cclxuXHJcbmNvbnN0IHVzZXJTaWduVXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBlbWFpbCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBwaG9uZU51bWJlciwgYWRkcmVzcywgaXNfYWRtaW5cclxuICB9ID0gcmVxLmJvZHk7XHJcbiAgbGV0IHsgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gIGlucHV0RXJyb3IocmVxLCByZXMpO1xyXG4gIGNvbnN0IGRhdGEgPSBjaGVja0lmVXNlckV4aXN0cyhlbWFpbCk7XHJcbiAgdXNlckV4aXN0cyhkYXRhLCByZXMpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xyXG4gICAgcGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgc2F2ZU5ld1VzZXIoXHJcbiAgICAgIGVtYWlsLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIHBhc3N3b3JkLCBwaG9uZU51bWJlciwgYWRkcmVzcywgaXNfYWRtaW5cclxuICAgICk7XHJcbiAgICByZXR1cm4gcGF5bG9hZGVyKHJlcywgbmV3VXNlcltuZXdVc2VyLmxlbmd0aCAtIDFdLCAyMDEpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgIGVycm9yOiBlcnIsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIExvZ2luIGFuIGV4aXN0aW5nIFVzZXIgYWNjb3VudC5cclxuICogQHBhcmFtIHtvYmplY3R9IHJlcSB0aGUgcmVxdWVzdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXMgdGhlIHJlc3BvbnNlIG9iamVjdC5cclxuICogQHJldHVybiAge0Z1bmN0aW9ufSBuZXh0IGNhbGxzIHRoZSBuZXh0IG1pZGRsZXdhcmVcclxuICpcclxuKi9cclxuXHJcbmNvbnN0IHVzZXJTaWduSW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IGVtYWlsIH0gPSByZXEuYm9keTtcclxuICBjb25zdCB7IHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICBpbnB1dEVycm9yKHJlcSwgcmVzKTtcclxuICBjb25zdCBkYXRhID0gY2hlY2tJZlVzZXJFeGlzdHMoZW1haWwpO1xyXG4gIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcclxuICAgIHJldHVybiBhdXRoRXJyb3IocmVzKTtcclxuICB9XHJcbiAgY29uc3QgaXNNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBkYXRhLnBhc3N3b3JkKTtcclxuICBpZiAoIWlzTWF0Y2gpIHtcclxuICAgIHJldHVybiBhdXRoRXJyb3IocmVzKTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBwYXlsb2FkZXIocmVzLCBkYXRhLCAyMDApO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IHVzZXJTaWduVXAsIHVzZXJTaWduSW4gfTtcclxuIl19